<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>AI Fitness Tracker | Neural-Link</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Seguimiento fitness inteligente con IA local">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>

<canvas id="matrixCanvas"></canvas>

<header>
  <div class="header-content">
    <div class="logo-section">
      <h1><i class="fas fa-dumbbell"></i> AI FITNESS TRACKER</h1>
      <p class="subtitle">‚ü¶ NEURAL-LINK v4.0 | BIO-ESC√ÅNER ACTIVO ‚üß</p>
    </div>
    
    <div class="header-right">
      <div id="clock" class="clock-display">
        <div class="clock-time">--:--:--</div>
        <div class="clock-date">--- --- -- ----</div>
      </div>
      
      <div id="clockJoke" class="clock-joke">
        <i class="fas fa-robot"></i> Preparando bromas fitness...
      </div>
      
      <button id="smileBtn" class="smile-btn" aria-label="Sonre√≠r" title="¬°Dale un boost a tu d√≠a!">
        <i class="fas fa-smile-beam"></i>
      </button>
    </div>
  </div>
</header>

<nav class="tabs" role="tablist">
  <button class="tab active" data-target="dashboard">
    <i class="fas fa-tachometer-alt"></i> Dashboard
  </button>
  <button class="tab" data-target="body">
    <i class="fas fa-user"></i> Biometr√≠a
  </button>
  <button class="tab" data-target="meals">
    <i class="fas fa-utensils"></i> Comidas
  </button>
  <button class="tab" data-target="vision">
    <i class="fas fa-camera"></i> Visi√≥n IA
  </button>
  <button class="tab" data-target="workout">
    <i class="fas fa-dumbbell"></i> Entreno
  </button>
  <button class="tab" data-target="coach">
    <i class="fas fa-robot"></i> IA Coach
  </button>
  <button class="tab" data-target="settings">
    <i class="fas fa-cog"></i> Config
  </button>
</nav>

<main class="app-grid">

  <!-- DASHBOARD -->
  <section id="dashboard" class="panel active">
    <div class="dashboard-header">
      <h2><i class="fas fa-chart-line"></i> Panel de Control</h2>
      <div class="dashboard-stats">
        <span id="lastUpdate">√öltima actualizaci√≥n: --:--</span>
        <button id="toggleGym" class="gym-toggle" aria-pressed="false">
          <i class="fas fa-fire"></i> Modo GYM
        </button>
      </div>
    </div>
    
    <div class="stats-grid">
      <div class="stat-card calorie-card">
        <div class="stat-header">
          <h3><i class="fas fa-fire"></i> Calor√≠as Hoy</h3>
          <span class="stat-goal">Meta: <span id="calorieGoalDisplay">3200</span> kcal</span>
        </div>
        <div class="stat-value" id="totalCalories">0 kcal</div>
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress-fill" id="calProgress"></div>
          </div>
          <div class="progress-label">
            <span id="calStatus">0% completado</span>
            <span id="calRemaining">3200 kcal restantes</span>
          </div>
        </div>
      </div>
      
      <div class="stat-card protein-card">
        <div class="stat-header">
          <h3><i class="fas fa-dna"></i> Prote√≠na Hoy</h3>
          <span class="stat-goal">Meta: <span id="proteinGoalDisplay">150</span> g</span>
        </div>
        <div class="stat-value" id="totalProtein">0 g</div>
        <div class="progress-container">
          <div class="progress-bar">
            <div class="progress-fill" id="protProgress"></div>
          </div>
          <div class="progress-label">
            <span id="protStatus">0% completado</span>
            <span id="protRemaining">150 g restantes</span>
          </div>
        </div>
      </div>
      
      <div class="stat-card summary-card">
        <h3><i class="fas fa-clipboard-list"></i> Resumen Diario</h3>
        <div class="summary-grid">
          <div class="summary-item">
            <div class="summary-icon meals-icon">
              <i class="fas fa-utensils"></i>
            </div>
            <div class="summary-text">
              <div class="summary-value" id="mealCount">0</div>
              <div class="summary-label">Comidas</div>
            </div>
          </div>
          <div class="summary-item">
            <div class="summary-icon exercise-icon">
              <i class="fas fa-dumbbell"></i>
            </div>
            <div class="summary-text">
              <div class="summary-value" id="exerciseCount">0</div>
              <div class="summary-label">Ejercicios</div>
            </div>
          </div>
          <div class="summary-item">
            <div class="summary-icon water-icon">
              <i class="fas fa-tint"></i>
            </div>
            <div class="summary-text">
              <div class="summary-value" id="waterCount">0</div>
              <div class="summary-label">Vasos de agua</div>
            </div>
          </div>
          <div class="summary-item">
            <div class="summary-icon streak-icon">
              <i class="fas fa-calendar-alt"></i>
            </div>
            <div class="summary-text">
              <div class="summary-value" id="streakCount">0</div>
              <div class="summary-label">D√≠as seguidos</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="stat-card chart-card">
        <h3><i class="fas fa-weight"></i> Evoluci√≥n de Peso</h3>
        <div class="chart-container">
          <canvas id="weightChart"></canvas>
        </div>
        <div class="chart-legend">
          <span class="legend-item"><i class="fas fa-circle" style="color: var(--military-yellow);"></i> Peso (kg)</span>
          <span class="legend-item"><i class="fas fa-circle" style="color: var(--military-green);"></i> Grasa (%)</span>
        </div>
      </div>
    </div>
    
    <div class="quick-actions">
      <h3><i class="fas fa-bolt"></i> Acciones R√°pidas</h3>
      <div class="action-buttons">
        <button class="action-btn water-btn" id="logWater">
          <i class="fas fa-tint"></i> Registrar agua
        </button>
        <button class="action-btn snack-btn" id="quickSnack">
          <i class="fas fa-apple-alt"></i> Snack r√°pido
        </button>
        <button class="action-btn workout-btn" id="quickWorkout">
          <i class="fas fa-running"></i> Entreno r√°pido
        </button>
        <button class="action-btn report-btn" id="dailyReport">
          <i class="fas fa-chart-bar"></i> Reporte diario
        </button>
      </div>
    </div>
  </section>

  <!-- BIOMETR√çA -->
  <section id="body" class="panel">
    <div class="section-header">
      <h2><i class="fas fa-user-circle"></i> Biometr√≠a Corporal</h2>
      <p class="section-subtitle">Registra tus mediciones para seguir el progreso</p>
    </div>
    
    <div class="biometry-grid">
      <div class="biometry-card input-card">
        <h3><i class="fas fa-edit"></i> Nuevo Registro</h3>
        <div class="input-group">
          <label for="bodyWeight">
            <i class="fas fa-weight-hanging"></i> Peso (kg)
          </label>
          <input type="number" id="bodyWeight" step="0.1" placeholder="Ej: 75.5" min="30" max="300">
        </div>
        
        <div class="input-group">
          <label for="bodyFat">
            <i class="fas fa-percentage"></i> Grasa Corporal (%)
          </label>
          <input type="number" id="bodyFat" step="0.1" placeholder="Ej: 18.5" min="5" max="50">
        </div>
        
        <div class="input-group">
          <label for="bodyMuscle">
            <i class="fas fa-dumbbell"></i> Masa Muscular (kg)
          </label>
          <input type="number" id="bodyMuscle" step="0.1" placeholder="Ej: 35.2" min="10" max="100">
        </div>
        
        <div class="input-group">
          <label for="bodyWater">
            <i class="fas fa-tint"></i> Hidrataci√≥n (%)
          </label>
          <input type="number" id="bodyWater" step="0.1" placeholder="Ej: 55.0" min="30" max="80">
        </div>
        
        <button id="saveBodyBtn" class="save-btn">
          <i class="fas fa-save"></i> Guardar Biometr√≠a
        </button>
        
        <div class="hint">
          <i class="fas fa-info-circle"></i> Recomendado: Medir cada semana a la misma hora
        </div>
      </div>
      
      <div class="biometry-card stats-card">
        <h3><i class="fas fa-chart-bar"></i> Estad√≠sticas Actuales</h3>
        <div class="current-stats">
          <div class="current-stat">
            <div class="stat-name">Peso Actual</div>
            <div class="stat-value" id="currentWeight">-- kg</div>
            <div class="stat-change" id="weightChange">
              <i class="fas fa-minus"></i> -- kg desde √∫ltima medici√≥n
            </div>
          </div>
          
          <div class="current-stat">
            <div class="stat-name">Grasa Corporal</div>
            <div class="stat-value" id="currentFat">-- %</div>
            <div class="stat-change" id="fatChange">
              <i class="fas fa-minus"></i> -- % desde √∫ltima medici√≥n
            </div>
          </div>
          
          <div class="current-stat">
            <div class="stat-name">IMC</div>
            <div class="stat-value" id="currentBMI">--</div>
            <div class="stat-category" id="bmiCategory">--</div>
          </div>
          
          <div class="current-stat">
            <div class="stat-name">Masa Muscular</div>
            <div class="stat-value" id="currentMuscle">-- kg</div>
            <div class="stat-change" id="muscleChange">
              <i class="fas fa-plus"></i> -- kg desde √∫ltima medici√≥n
            </div>
          </div>
        </div>
        
        <div class="biometry-actions">
          <button id="viewHistoryBtn" class="history-btn">
            <i class="fas fa-history"></i> Ver Historial
          </button>
          <button id="exportDataBtn" class="export-btn">
            <i class="fas fa-file-export"></i> Exportar Datos
          </button>
        </div>
      </div>
    </div>
    
    <div class="chart-section">
      <div class="chart-card">
        <h3><i class="fas fa-chart-line"></i> Evoluci√≥n del Peso</h3>
        <div class="chart-container large">
          <canvas id="biometryChart"></canvas>
        </div>
      </div>
    </div>
  </section>

  <!-- COMIDAS -->
  <section id="meals" class="panel">
    <div class="section-header">
      <h2><i class="fas fa-utensils"></i> Gesti√≥n de Comidas</h2>
      <p class="section-subtitle">Registra y analiza tu consumo nutricional</p>
    </div>
    
    <div class="meals-grid">
      <div class="meals-card input-card">
        <h3><i class="fas fa-plus-circle"></i> Nueva Comida</h3>
        
        <div class="quick-suggestions">
          <p class="suggestion-title"><i class="fas fa-bolt"></i> Sugerencias r√°pidas:</p>
          <div class="suggestion-buttons">
            <button class="suggestion-btn" data-text="whopper sin queso">
              <i class="fas fa-hamburger"></i> Whopper BK
            </button>
            <button class="suggestion-btn" data-text="big mac con patatas">
              <i class="fas fa-cheeseburger"></i> Big Mac
            </button>
            <button class="suggestion-btn" data-text="ensalada cesar pollo">
              <i class="fas fa-leaf"></i> Ensalada C√©sar
            </button>
            <button class="suggestion-btn" data-text="pollo arroz verduras">
              <i class="fas fa-drumstick-bite"></i> Pollo + Arroz
            </button>
          </div>
        </div>
        
        <div class="input-group">
          <label for="aiMealText">
            <i class="fas fa-robot"></i> Describe tu comida:
          </label>
          <textarea id="aiMealText" placeholder="Ej: 'Whopper sin queso extra bacon, patatas medianas y coca cola...'" rows="3"></textarea>
          <div class="input-hint">
            La IA detectar√° autom√°ticamente los ingredientes y valores nutricionales
          </div>
        </div>
        
        <button id="analyzeMealBtn" class="analyze-btn">
          <i class="fas fa-magic"></i> Analizar con IA
        </button>
        
        <div class="meal-details">
          <h4><i class="fas fa-clipboard-list"></i> Detalles de la Comida</h4>
          <div class="details-grid">
            <div class="detail-group">
              <label for="mealName">
                <i class="fas fa-tag"></i> Nombre
              </label>
              <input type="text" id="mealName" placeholder="Nombre de la comida">
            </div>
            
            <div class="nutrition-grid">
              <div class="nutrition-input">
                <label for="mealCalories">
                  <i class="fas fa-fire"></i> Calor√≠as
                </label>
                <input type="number" id="mealCalories" placeholder="kcal">
              </div>
              
              <div class="nutrition-input">
                <label for="mealProtein">
                  <i class="fas fa-dna"></i> Prote√≠na
                </label>
                <input type="number" id="mealProtein" placeholder="g">
              </div>
              
              <div class="nutrition-input">
                <label for="mealCarbs">
                  <i class="fas fa-bread-slice"></i> Carbos
                </label>
                <input type="number" id="mealCarbs" placeholder="g">
              </div>
              
              <div class="nutrition-input">
                <label for="mealFat">
                  <i class="fas fa-bacon"></i> Grasas
                </label>
                <input type="number" id="mealFat" placeholder="g">
              </div>
            </div>
          </div>
        </div>
        
        <button id="addMealBtn" class="add-btn">
          <i class="fas fa-plus"></i> A√±adir Comida
        </button>
      </div>
      
      <div class="meals-card list-card">
        <div class="list-header">
          <h3><i class="fas fa-history"></i> Comidas de Hoy</h3>
          <div class="list-summary">
            <span class="total-calories" id="todayCalories">0 kcal</span>
            <span class="total-protein" id="todayProtein">0g prote√≠na</span>
          </div>
        </div>
        
        <div class="meal-list-container">
          <ul id="mealList" class="meal-list">
            <li class="empty-state">
              <i class="fas fa-utensils"></i>
              <p>No hay comidas registradas hoy</p>
              <small>¬°Empieza a√±adiendo tu primera comida!</small>
            </li>
          </ul>
        </div>
        
        <div class="meal-totals">
          <div class="total-item">
            <div class="total-label">Total calor√≠as:</div>
            <div class="total-value" id="totalTodayCalories">0</div>
          </div>
          <div class="total-item">
            <div class="total-label">Total prote√≠na:</div>
            <div class="total-value" id="totalTodayProtein">0g</div>
          </div>
          <div class="total-item">
            <div class="total-label">Total carbos:</div>
            <div class="total-value" id="totalTodayCarbs">0g</div>
          </div>
          <div class="total-item">
            <div class="total-label">Total grasas:</div>
            <div class="total-value" id="totalTodayFat">0g</div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="ai-results-card">
      <h3><i class="fas fa-brain"></i> Resultados del An√°lisis IA</h3>
      <div id="aiResults" class="ai-results">
        <div class="ai-empty">
          <i class="fas fa-robot"></i>
          <p>Los resultados del an√°lisis aparecer√°n aqu√≠</p>
          <small>Describe tu comida y haz clic en "Analizar con IA"</small>
        </div>
      </div>
    </div>
  </section>

  <!-- VISI√ìN IA -->
  <section id="vision" class="panel">
    <div class="section-header">
      <h2><i class="fas fa-eye"></i> Visi√≥n IA - An√°lisis de Im√°genes</h2>
      <p class="section-subtitle">Analiza fotos de comida y etiquetas nutricionales</p>
    </div>
    
    <div class="vision-grid">
      <div class="vision-card upload-card">
        <h3><i class="fas fa-cloud-upload-alt"></i> Subir Imagen</h3>
        
        <div class="upload-zone" id="uploadZone">
          <div class="upload-icon">
            <i class="fas fa-camera"></i>
          </div>
          <p class="upload-title">Arrastra una imagen o haz clic para seleccionar</p>
          <p class="upload-subtitle">Soporta: fotos de platos, etiquetas nutricionales, ingredientes</p>
          <div class="upload-buttons">
            <button id="captureBtn" class="upload-btn">
              <i class="fas fa-camera"></i> Usar C√°mara
            </button>
            <button id="uploadBtn" class="upload-btn">
              <i class="fas fa-folder-open"></i> Seleccionar Archivo
            </button>
          </div>
          <input type="file" id="imageInput" accept="image/*" capture="environment" hidden>
        </div>
        
        <div id="imagePreview" class="image-preview" hidden>
          <img id="previewImage" src="" alt="Vista previa">
          <button id="removeImage" class="remove-btn" aria-label="Eliminar imagen">
            <i class="fas fa-times"></i>
          </button>
        </div>
        
        <div class="vision-options">
          <div class="option-group">
            <label for="foodType">
              <i class="fas fa-filter"></i> Tipo de an√°lisis:
            </label>
            <select id="foodType">
              <option value="plate">üçΩÔ∏è Plato completo</option>
              <option value="label">üè∑Ô∏è Etiqueta nutricional</option>
              <option value="ingredients">ü•ï Ingredientes sueltos</option>
              <option value="restaurant">üè™ Comida de restaurante</option>
            </select>
          </div>
          
          <button id="analyzeImageBtn" class="analyze-btn" disabled>
            <i class="fas fa-search"></i> Analizar Imagen con IA
          </button>
        </div>
      </div>
      
      <div class="vision-card results-card">
        <h3><i class="fas fa-chart-pie"></i> Resultados del An√°lisis</h3>
        
        <div id="aiVisionResults" class="vision-results">
          <div class="vision-empty">
            <i class="fas fa-images"></i>
            <p>Sube una imagen para analizar</p>
            <small>La IA detectar√° alimentos y calcular√° valores nutricionales</small>
          </div>
        </div>
        
        <div id="nutritionFacts" class="nutrition-facts" hidden>
          <h4><i class="fas fa-clipboard-check"></i> Informaci√≥n Nutricional Detectada</h4>
          <div class="facts-grid">
            <div class="fact-item">
              <div class="fact-label">Calor√≠as:</div>
              <div class="fact-value" id="detectedCalories">-</div>
            </div>
            <div class="fact-item">
              <div class="fact-label">Prote√≠nas:</div>
              <div class="fact-value" id="detectedProtein">- g</div>
            </div>
            <div class="fact-item">
              <div class="fact-label">Carbohidratos:</div>
              <div class="fact-value" id="detectedCarbs">- g</div>
            </div>
            <div class="fact-item">
              <div class="fact-label">Grasas:</div>
              <div class="fact-value" id="detectedFat">- g</div>
            </div>
            <div class="fact-item full-width">
              <div class="fact-label">Alimentos detectados:</div>
              <div class="fact-value" id="detectedFoods">-</div>
            </div>
          </div>
          
          <button id="useDetectionBtn" class="use-btn">
            <i class="fas fa-check-circle"></i> Usar Estos Valores
          </button>
        </div>
      </div>
    </div>
    
    <div class="vision-card config-card">
      <h3><i class="fas fa-key"></i> Configuraci√≥n de IA</h3>
      
      <div class="config-group">
        <label for="apiKey">
          <i class="fas fa-key"></i> Clave API Gemini:
        </label>
        <div class="api-input-group">
          <input type="password" id="apiKey" placeholder="Ingresa tu clave API de Google AI Studio">
          <button id="toggleApiKey" class="toggle-btn" type="button">
            <i class="fas fa-eye"></i>
          </button>
        </div>
        <div class="api-actions">
          <button id="saveApiKey" class="save-api-btn">
            <i class="fas fa-save"></i> Guardar Clave
          </button>
          <button id="testApiKey" class="test-btn">
            <i class="fas fa-vial"></i> Probar Conexi√≥n
          </button>
        </div>
        <p class="api-hint">
          <i class="fas fa-info-circle"></i> Obt√©n una clave gratuita en: 
          <a href="https://aistudio.google.com/app/apikey" target="_blank" rel="noopener">
            Google AI Studio
          </a>
        </p>
      </div>
      
      <div class="api-status" id="apiStatus">
        <div class="status-icon">
          <i class="fas fa-circle"></i>
        </div>
        <div class="status-text">Estado: No configurado</div>
      </div>
    </div>
  </section>

  <!-- ENTRENO -->
  <section id="workout" class="panel">
    <div class="section-header">
      <h2><i class="fas fa-dumbbell"></i> Registro de Entrenamiento</h2>
      <p class="section-subtitle">Lleva el control de tus ejercicios y progreso</p>
    </div>
    
    <div class="workout-grid">
      <div class="workout-card input-card">
        <h3><i class="fas fa-plus-circle"></i> Nuevo Ejercicio</h3>
        
        <div class="quick-workouts">
          <p class="quick-title"><i class="fas fa-bolt"></i> Rutinas r√°pidas:</p>
          <div class="quick-buttons">
            <button class="quick-btn" data-exercise="Press banca">
              <i class="fas fa-weight"></i> Press Banca
            </button>
            <button class="quick-btn" data-exercise="Sentadillas">
              <i class="fas fa-running"></i> Sentadillas
            </button>
            <button class="quick-btn" data-exercise="Dominadas">
              <i class="fas fa-arrow-up"></i> Dominadas
            </button>
            <button class="quick-btn" data-exercise="Cardio">
              <i class="fas fa-heartbeat"></i> Cardio
            </button>
          </div>
        </div>
        
        <div class="input-group">
          <label for="exerciseName">
            <i class="fas fa-dumbbell"></i> Nombre del ejercicio:
          </label>
          <input type="text" id="exerciseName" placeholder="Ej: Press banca, Sentadillas, etc.">
        </div>
        
        <div class="exercise-details">
          <div class="detail-row">
            <div class="detail-input">
              <label for="workoutSets">
                <i class="fas fa-list-ol"></i> Series
              </label>
              <input type="number" id="workoutSets" placeholder="Ej: 4" min="1" max="20">
            </div>
            
            <div class="detail-input">
              <label for="workoutReps">
                <i class="fas fa-redo"></i> Repeticiones
              </label>
              <input type="number" id="workoutReps" placeholder="Ej: 12" min="1" max="100">
            </div>
            
            <div class="detail-input">
              <label for="workoutWeight">
                <i class="fas fa-weight-hanging"></i> Peso (kg)
              </label>
              <input type="number" id="workoutWeight" placeholder="Ej: 60" step="0.5" min="0">
            </div>
          </div>
          
          <div class="detail-row">
            <div class="detail-input">
              <label for="workoutRest">
                <i class="fas fa-clock"></i> Descanso (min)
              </label>
              <input type="number" id="workoutRest" placeholder="Ej: 2" step="0.5" min="0">
            </div>
            
            <div class="detail-input">
              <label for="workoutNotes">
                <i class="fas fa-sticky-note"></i> Notas
              </label>
              <input type="text" id="workoutNotes" placeholder="Notas adicionales...">
            </div>
          </div>
        </div>
        
        <button id="addExerciseBtn" class="add-exercise-btn">
          <i class="fas fa-plus"></i> Registrar Ejercicio
        </button>
      </div>
      
      <div class="workout-card list-card">
        <div class="list-header">
          <h3><i class="fas fa-history"></i> Entrenamientos de Hoy</h3>
          <div class="workout-stats">
            <span class="total-exercises" id="totalExercises">0 ejercicios</span>
            <span class="total-volume" id="totalVolume">0 kg volumen</span>
          </div>
        </div>
        
        <div class="exercise-list-container">
          <ul id="exerciseList" class="exercise-list">
            <li class="empty-state">
              <i class="fas fa-dumbbell"></i>
              <p>No hay ejercicios registrados hoy</p>
              <small>¬°Comienza tu entrenamiento!</small>
            </li>
          </ul>
        </div>
        
        <div class="workout-summary">
          <h4><i class="fas fa-chart-bar"></i> Resumen del D√≠a</h4>
          <div class="summary-stats">
            <div class="summary-stat">
              <div class="stat-icon">
                <i class="fas fa-fire"></i>
              </div>
              <div class="stat-content">
                <div class="stat-value" id="totalWorkoutCalories">0</div>
                <div class="stat-label">Calor√≠as quemadas</div>
              </div>
            </div>
            
            <div class="summary-stat">
              <div class="stat-icon">
                <i class="fas fa-clock"></i>
              </div>
              <div class="stat-content">
                <div class="stat-value" id="totalWorkoutTime">0</div>
                <div class="stat-label">Minutos activo</div>
              </div>
            </div>
            
            <div class="summary-stat">
              <div class="stat-icon">
                <i class="fas fa-weight-hanging"></i>
              </div>
              <div class="stat-content">
                <div class="stat-value" id="totalWorkoutVolume">0</div>
                <div class="stat-label">Volumen total (kg)</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="workout-history">
      <div class="history-card">
        <h3><i class="fas fa-calendar-alt"></i> Historial de Entrenamientos</h3>
        <div class="history-filters">
          <button class="filter-btn active" data-period="today">Hoy</button>
          <button class="filter-btn" data-period="week">Esta semana</button>
          <button class="filter-btn" data-period="month">Este mes</button>
          <button class="filter-btn" data-period="all">Todo</button>
        </div>
        <div class="history-container">
          <div id="workoutHistory" class="history-list">
            <p class="empty-history">No hay historial disponible</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- IA COACH -->
  <section id="coach" class="panel">
    <div class="section-header">
      <h2><i class="fas fa-robot"></i> IA Coach Personal</h2>
      <p class="section-subtitle">Tu asistente inteligente para ajustes y recomendaciones</p>
    </div>
    
    <div class="coach-grid">
      <div class="coach-card input-card">
        <h3><i class="fas fa-comment-dots"></i> Conversar con el Coach</h3>
        
        <div class="coach-examples">
          <p class="examples-title"><i class="fas fa-lightbulb"></i> Ejemplos de consultas:</p>
          <div class="example-buttons">
            <button class="example-btn" data-text="No entren√© hoy, ¬øqu√© puedo hacer?">
              <i class="fas fa-bed"></i> D√≠a sin entrenar
            </button>
            <button class="example-btn" data-text="Com√≠ de m√°s en la cena, ayuda">
              <i class="fas fa-pizza-slice"></i> Exceso alimenticio
            </button>
            <button class="example-btn" data-text="¬øC√≥mo mejorar mi progreso?">
              <i class="fas fa-chart-line"></i> Optimizar progreso
            </button>
            <button class="example-btn" data-text="Estoy estancado, ¬øconsejos?">
              <i class="fas fa-stop-circle"></i> Estancamiento
            </button>
          </div>
        </div>
        
        <div class="input-group">
          <label for="aiEmergencyText">
            <i class="fas fa-question-circle"></i> Describe tu situaci√≥n:
          </label>
          <textarea id="aiEmergencyText" placeholder="Ej: 'Hoy no pude entrenar porque tuve mucho trabajo, ¬øqu√© ajustes debo hacer?'" rows="4"></textarea>
        </div>
        
        <button id="compensateBtn" class="coach-btn">
          <i class="fas fa-bolt"></i> Consultar al IA Coach
        </button>
        
        <div class="coach-tips">
          <h4><i class="fas fa-graduation-cap"></i> Consejos r√°pidos:</h4>
          <ul class="tips-list">
            <li>
              <i class="fas fa-check-circle"></i>
              <span>Si no entrenas: reduce 400 kcal y aumenta prote√≠na</span>
            </li>
            <li>
              <i class="fas fa-check-circle"></i>
              <span>Exceso alimenticio: compensa con d√©ficit cal√≥rico</span>
            </li>
            <li>
              <i class="fas fa-check-circle"></i>
              <span>Para estancamiento: var√≠a ejercicios y aumenta intensidad</span>
            </li>
            <li>
              <i class="fas fa-check-circle"></i>
              <span>Recuperaci√≥n: prioriza sue√±o y alimentaci√≥n post-entreno</span>
            </li>
          </ul>
        </div>
      </div>
      
      <div class="coach-card response-card">
        <h3><i class="fas fa-brain"></i> Respuesta del Coach</h3>
        
        <div id="aiResponse" class="coach-response">
          <div class="response-empty">
            <i class="fas fa-robot"></i>
            <p>Consulta al Coach para obtener recomendaciones personalizadas</p>
            <small>La IA analizar√° tu situaci√≥n y crear√° un plan de ajuste</small>
          </div>
        </div>
        
        <div id="adjustmentPlan" class="adjustment-plan" hidden>
          <h4><i class="fas fa-clipboard-check"></i> Plan de Ajuste Recomendado</h4>
          <div class="plan-content">
            <div class="plan-icon">
              <i class="fas fa-cogs"></i>
            </div>
            <div class="plan-details">
              <p id="planDetails">No hay ajustes pendientes</p>
              <div class="plan-stats" id="planStats"></div>
            </div>
          </div>
        </div>
        
        <div class="coach-actions">
          <button id="applyPlanBtn" class="apply-btn" hidden>
            <i class="fas fa-check-double"></i> Aplicar Plan
          </button>
          <button id="savePlanBtn" class="save-plan-btn" hidden>
            <i class="fas fa-bookmark"></i> Guardar Plan
          </button>
          <button id="clearChatBtn" class="clear-btn">
            <i class="fas fa-broom"></i> Limpiar Chat
          </button>
        </div>
      </div>
    </div>
    
    <div class="coach-features">
      <div class="feature-card">
        <h3><i class="fas fa-star"></i> Funciones del IA Coach</h3>
        <div class="features-grid">
          <div class="feature">
            <div class="feature-icon">
              <i class="fas fa-balance-scale"></i>
            </div>
            <div class="feature-content">
              <h4>Compensaci√≥n Inteligente</h4>
              <p>Ajusta autom√°ticamente tus metas seg√∫n tu actividad</p>
            </div>
          </div>
          
          <div class="feature">
            <div class="feature-icon">
              <i class="fas fa-chart-line"></i>
            </div>
            <div class="feature-content">
              <h4>An√°lisis de Progreso</h4>
              <p>Analiza tus datos y sugiere mejoras espec√≠ficas</p>
            </div>
          </div>
          
          <div class="feature">
            <div class="feature-icon">
              <i class="fas fa-utensils"></i>
            </div>
            <div class="feature-content">
              <h4>Recomendaciones Nutricionales</h4>
              <p>Sugiere ajustes en tu dieta seg√∫n objetivos</p>
            </div>
          </div>
          
          <div class="feature">
            <div class="feature-icon">
              <i class="fas fa-dumbbell"></i>
            </div>
            <div class="feature-content">
              <h4>Planificaci√≥n de Entrenos</h4>
              <p>Crea rutinas personalizadas seg√∫n tu nivel</p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CONFIGURACI√ìN -->
  <section id="settings" class="panel">
    <div class="section-header">
      <h2><i class="fas fa-cogs"></i> Configuraci√≥n</h2>
      <p class="section-subtitle">Personaliza tu experiencia y gestiona tus datos</p>
    </div>
    
    <div class="settings-grid">
      <div class="settings-card goals-card">
        <h3><i class="fas fa-bullseye"></i> Metas Diarias</h3>
        
        <div class="goal-setting">
          <div class="goal-input">
            <label for="calorieGoalInput">
              <i class="fas fa-fire"></i> Calor√≠as objetivo:
            </label>
            <input type="number" id="calorieGoalInput" value="3200" min="1000" max="10000" step="50">
            <div class="goal-hint">
              <i class="fas fa-info-circle"></i>
              <span>Basado en: Hombre activo (3200 kcal)</span>
            </div>
          </div>
          
          <div class="goal-input">
            <label for="proteinGoalInput">
              <i class="fas fa-dna"></i> Prote√≠na objetivo (g):
            </label>
            <input type="number" id="proteinGoalInput" value="150" min="50" max="500" step="5">
            <div class="goal-hint">
              <i class="fas fa-info-circle"></i>
              <span>Recomendado: 2g por kg de peso</span>
            </div>
          </div>
          
          <div class="goal-input">
            <label for="waterGoalInput">
              <i class="fas fa-tint"></i> Agua objetivo (ml):
            </label>
            <input type="number" id="waterGoalInput" value="3000" min="1000" max="10000" step="250">
            <div class="goal-hint">
              <i class="fas fa-info-circle"></i>
              <span>Recomendado: 30ml por kg de peso</span>
            </div>
          </div>
          
          <button id="saveGoalsBtn" class="save-goals-btn">
            <i class="fas fa-save"></i> Guardar Metas
          </button>
        </div>
      </div>
      
      <div class="settings-card ai-card">
        <h3><i class="fas fa-robot"></i> Configuraci√≥n de IA</h3>
        
        <div class="ai-settings">
          <div class="ai-setting">
            <label for="aiMode">
              <i class="fas fa-brain"></i> Modo IA:
            </label>
            <select id="aiMode">
              <option value="suggestions">üí° Solo sugerencias</option>
              <option value="automatic" selected>ü§ñ Autom√°tico (recomendado)</option>
              <option value="strict">üîí Modo estricto</option>
              <option value="learning">üéì Modo aprendizaje</option>
            </select>
          </div>
          
          <div class="ai-setting">
            <label>
              <i class="fas fa-bell"></i> Notificaciones:
            </label>
            <div class="toggle-switch">
              <input type="checkbox" id="notificationsToggle" checked>
              <label for="notificationsToggle" class="toggle-label">
                <span class="toggle-handle"></span>
              </label>
              <span class="toggle-text">Activadas</span>
            </div>
          </div>
          
          <div class="ai-setting">
            <label>
              <i class="fas fa-chart-bar"></i> An√°lisis autom√°tico:
            </label>
            <div class="toggle-switch">
              <input type="checkbox" id="autoAnalysisToggle" checked>
              <label for="autoAnalysisToggle" class="toggle-label">
                <span class="toggle-handle"></span>
              </label>
              <span class="toggle-text">Activado</span>
            </div>
          </div>
          
          <button id="saveAiSettings" class="save-ai-btn">
            <i class="fas fa-save"></i> Guardar Ajustes IA
          </button>
        </div>
      </div>
    </div>
    
    <div class="data-management">
      <div class="data-card">
        <h3><i class="fas fa-database"></i> Gesti√≥n de Datos</h3>
        
        <div class="data-actions">
          <div class="data-section">
            <h4><i class="fas fa-file-export"></i> Exportar Datos</h4>
            <p>Descarga todos tus datos en formato JSON</p>
            <button id="exportDataBtn" class="data-btn export-data-btn">
              <i class="fas fa-download"></i> Exportar Todos los Datos
            </button>
          </div>
          
          <div class="data-section">
            <h4><i class="fas fa-file-import"></i> Importar Datos</h4>
            <p>Carga datos desde un archivo JSON</p>
            <div class="import-group">
              <input type="file" id="importFile" accept=".json" hidden>
              <button id="importDataBtn" class="data-btn import-data-btn">
                <i class="fas fa-upload"></i> Seleccionar Archivo
              </button>
              <span id="importFileName">Ning√∫n archivo seleccionado</span>
            </div>
          </div>
          
          <div class="data-section danger-section">
            <h4><i class="fas fa-exclamation-triangle"></i> Zona de Peligro</h4>
            <p>Estas acciones no se pueden deshacer</p>
            <div class="danger-actions">
              <button id="clearTodayBtn" class="danger-btn clear-today-btn">
                <i class="fas fa-trash"></i> Borrar Datos de Hoy
              </button>
              <button id="clearDataBtn" class="danger-btn clear-all-btn">
                <i class="fas fa-bomb"></i> Borrar Todos los Datos
              </button>
            </div>
          </div>
        </div>
        
        <div class="data-info">
          <div class="info-item">
            <i class="fas fa-hdd"></i>
            <div class="info-content">
              <div class="info-label">Espacio usado:</div>
              <div class="info-value" id="storageUsed">0 KB</div>
            </div>
          </div>
          
          <div class="info-item">
            <i class="fas fa-calendar"></i>
            <div class="info-content">
              <div class="info-label">Datos desde:</div>
              <div class="info-value" id="dataSince">--/--/----</div>
            </div>
          </div>
          
          <div class="info-item">
            <i class="fas fa-utensils"></i>
            <div class="info-content">
              <div class="info-label">Comidas totales:</div>
              <div class="info-value" id="totalMealsCount">0</div>
            </div>
          </div>
          
          <div class="info-item">
            <i class="fas fa-dumbbell"></i>
            <div class="info-content">
              <div class="info-label">Ejercicios totales:</div>
              <div class="info-value" id="totalExercisesCount">0</div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
    <div class="about-section">
      <div class="about-card">
        <h3><i class="fas fa-info-circle"></i> Acerca de AI Fitness Tracker</h3>
        <div class="about-content">
          <div class="about-logo">
            <i class="fas fa-dumbbell"></i>
          </div>
          <div class="about-text">
            <h4>AI Fitness Tracker v4.0</h4>
            <p>Sistema inteligente de seguimiento fitness con IA local y an√°lisis de im√°genes.</p>
            <div class="about-details">
              <p><strong>Versi√≥n:</strong> 4.0.0</p>
              <p><strong>Desarrollador:</strong> Neural-Link Team</p>
              <p><strong>Licencia:</strong> MIT Open Source</p>
              <p><strong>√öltima actualizaci√≥n:</strong> <span id="appVersionDate">Hoy</span></p>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
</main>

<!-- MODALES Y OVERLAYS -->
<div id="confirmModal" class="modal" aria-hidden="true" role="dialog">
  <div class="modal-overlay"></div>
  <div class="modal-content">
    <div class="modal-header">
      <h3 id="confirmTitle">Confirmar acci√≥n</h3>
      <button class="modal-close" aria-label="Cerrar">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <div class="modal-body">
      <p id="confirmMessage">¬øEst√°s seguro de que quieres realizar esta acci√≥n?</p>
    </div>
    <div class="modal-footer">
      <button id="confirmCancel" class="modal-btn cancel-btn">Cancelar</button>
      <button id="confirmOk" class="modal-btn confirm-btn">Confirmar</button>
    </div>
  </div>
</div>

<div id="smileOverlay" class="overlay" aria-hidden="true"></div>

<div id="toasts" class="toasts-container"></div>

<!-- SCRIPTS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>
<script src="script.js"></script>
</body>
</html>
