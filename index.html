<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>AI Fitness Tracker | Cyberpunk Edition</title>
  <meta name="description" content="Bio-hacking y seguimiento nutricional inteligente con IA de compensaci√≥n." />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Audiowide&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>
<body>

<canvas id="matrixCanvas"
  style="position: fixed; top: 0; left: 0; z-index: -1; opacity: 0.15;">
</canvas>

<header>
  <h1>AI Fitness Tracker</h1>
  <p>Bio-hacking y seguimiento nutricional inteligente</p>
  <!-- header compact: controls moved to sidebar for a cleaner, responsive layout -->
</header>

<!-- Smile overlay (temporary, announced) -->
<div id="smileOverlay" class="smile-overlay" role="status" aria-live="polite" aria-hidden="true"></div>

<nav class="tabs" role="tablist" aria-label="Navegaci√≥n principal">
  <button id="tab-dashboard" class="tab active" role="tab" aria-selected="true" aria-controls="dashboard" data-target="dashboard">Dashboard</button>
  <button id="tab-body" class="tab" role="tab" aria-selected="false" aria-controls="body" data-target="body">Cuerpo</button>
  <button id="tab-meals" class="tab" role="tab" aria-selected="false" aria-controls="meals" data-target="meals">Comidas</button>
  <button id="tab-workout" class="tab" role="tab" aria-selected="false" aria-controls="workout-log" data-target="workout-log">Entrenar</button>
  <button id="tab-ai" class="tab" role="tab" aria-selected="false" aria-controls="ai-coach" data-target="ai-coach">IA Coach</button>
  <button id="tab-ai-settings" class="tab" role="tab" aria-selected="false" aria-controls="ai-settings" data-target="ai-settings">Ajustes</button>
  <button id="toggleCompact" class="tab" aria-pressed="false">Compacto</button>
</nav>

<div class="app-grid">
  <main class="main-content">

<section id="dashboard" class="dashboard tab-panel active">
  <div class="card">
    <h3>Calor√≠as</h3>
    <p id="calories">0 kcal</p>
    <small class="muted" id="calStatus">Cargando biometr√≠a...</small>
    <div class="progress" aria-hidden="true"><div class="progress-fill" id="calProgress"></div></div>
  </div>

  <div class="card">
    <h3>Prote√≠na</h3>
    <p id="protein">0 g</p>
    <small class="muted" id="protStatus">Meta: 150g</small>
    <div class="progress" aria-hidden="true"><div class="progress-fill" id="protProgress"></div></div>
  </div>

  <div class="card">
    <h3>Meta Diaria</h3>
    <p id="calorieGoalDisplay">3200</p>
    <small class="muted">kcal objetivo</small>
  </div>

  <div class="card">
    <h3>Estado IA</h3>
    <p id="aiStatusText">Activa</p>
    <small class="muted">Monitorizando plan</small>
  </div>
</section>

<section id="body" class="section tab-panel">
  <h2>Registro Biom√©trico</h2>
  <div class="form-grid">
    <div class="form-group">
      <label>Peso Actual (kg)</label>
      <input type="number" id="bodyWeight" step="0.1">
    </div>
    <div class="form-group">
      <label>Grasa Corporal (%)</label>
      <input type="number" id="bodyFat" step="0.1">
    </div>
  </div>
  <button id="saveBodyBtn">Sincronizar Datos</button>
</section>

<section id="meals" class="section tab-panel">
  <h2>Log de Nutrientes</h2>

  <div class="form-group">
    <label>An√°lisis IA</label>
    <div style="display:flex; gap:10px;">
      <input id="aiMealText" placeholder="Ej: 2 huevos y arroz">
      <button id="analyzeMealBtn">Analizar</button>
    </div>
  </div>

  <div class="form-grid">
    <input id="mealName" placeholder="Comida">
    <input id="mealCalories" type="number" placeholder="Kcal">
    <input id="mealProtein" type="number" placeholder="Prot">
  </div>

  <button id="addMealBtn">A√±adir</button>
  <ul id="mealList"></ul>
</section>

<section id="workout-log" class="section tab-panel">
  <h2>Entrenamiento</h2>
  <input id="exerciseName" placeholder="Ejercicio">
  <input id="workoutSets" type="number" placeholder="Series">
  <input id="workoutReps" type="number" placeholder="Reps">
  <input id="workoutWeight" type="number" placeholder="Kg">
  <button id="addExerciseBtn">Registrar</button>
  <ul id="exerciseList"></ul>
</section>

<section id="ai-coach" class="section tab-panel">
  <h2>IA Coach</h2>
  <div id="aiResponse" class="ai-bubble">
    "Dime qu√© ha pasado y ajustar√© el plan"
  </div>
  <textarea id="aiEmergencyText"></textarea>
  <button id="compensateBtn">Compensar</button>
  <div id="adjustmentPlan" style="display:none;">
    <p id="planDetails"></p>
  </div>
</section>

<section id="ai-settings" class="section tab-panel">
  <select id="aiMode">
    <option value="suggestions">Sugerencias</option>
    <option value="auto">Auto</option>
    <option value="off">Manual</option>
  </select>
  <button id="saveAiSettings">Guardar</button>
</section>

<div id="toasts" aria-live="polite"></div>

<!-- Confirm Modal -->
<div id="confirmModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true" aria-labelledby="confirmTitle">
  <div class="modal-content">
    <h3 id="confirmTitle">Confirmar acci√≥n</h3>
    <p id="confirmMessage">¬øEst√°s seguro?</p>
    <div class="modal-actions">
      <button id="confirmOk" class="confirm-ok">Confirmar</button>
      <button id="confirmCancel" class="confirm-cancel">Cancelar</button>
    </div>
  </div>
</div>

  </main>

  <aside id="sidebar" class="sidebar" aria-label="Panel lateral">
    <div class="side-card side-top">
      <div class="side-top-controls" style="display:flex; gap:8px; align-items:center; justify-content:space-between;">
        <div>
          <div id="clock" class="clock" aria-hidden="true" title="Fecha y hora locales"></div>
          <div id="clockJoke" class="clock-joke" title="Haz clic para otra broma" role="note" aria-live="polite"></div>
        </div>
        <div>
          <button id="smileBtn" class="smile-btn" aria-label="S√°came una sonrisa">üòä</button>
          <button id="toggleSidebar" class="sm-toggle" aria-pressed="false" title="Ocultar/mostrar panel">‚áÑ</button>
        </div>
      </div>
    </div>

    <div class="side-card">
      <h4>Resumen</h4>
      <p><strong>Meta kcal:</strong> <span id="calorieGoalDisplay">3200</span> kcal</p>
      <p><strong>Estado IA:</strong> <span id="aiStatusText">Activa</span></p>
      <div style="margin-top:10px; display:flex; gap:8px; align-items:center;">
        <button id="toggleGym" class="gym-toggle" aria-pressed="false" title="Activar modo GYM">Modo GYM üèãÔ∏è</button>
        <small style="opacity:0.8;">Activa est√©tica gym y barras de progreso</small>
      </div>
    </div>
  </aside>
</div>

<script src="script.js"></script>
</body>
</html>
